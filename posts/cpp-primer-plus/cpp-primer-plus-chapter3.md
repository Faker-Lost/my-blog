---
title: C++ Primer Plus å­¦ä¹ ç¬”è®° - ç¬¬3ç«  å¤„ç†æ•°æ®
date: 2026-02-10
excerpt: æ·±å…¥ç†è§£ C++ çš„æ•°æ®ç±»å‹ä½“ç³»ï¼šæ•´å‹å®¶æ—ï¼ˆshort/int/long/long longï¼‰ã€æ— ç¬¦å·ç±»å‹ã€å­—ç¬¦ä¸å¸ƒå°”ç±»å‹ã€æµ®ç‚¹æ•°ç²¾åº¦é™·é˜±ã€ç®—æœ¯è¿ç®—ç¬¦ï¼Œä»¥åŠè‡ªåŠ¨ä¸å¼ºåˆ¶ç±»å‹è½¬æ¢çš„å®Œæ•´æŒ‡å—ã€‚
tags:
  - C++
  - C++ Primer Plus
  - å­¦ä¹ ç¬”è®°
  - æ•™ç¨‹
series: C++ Primer Plus
seriesOrder: 4
---

## æœ¬ç« æ¦‚è§ˆ

C++ æ˜¯ä¸€é—¨å¯¹æ•°æ®ç±»å‹è¦æ±‚ä¸¥æ ¼çš„è¯­è¨€ã€‚åœ¨ç¼–å†™ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰ç¼–è¯‘å™¨æ¯ä¸€ä¸ªå˜é‡çš„ç±»å‹â€”â€”å®ƒè¦å ç”¨å¤šå°‘å†…å­˜ã€å®ƒèƒ½å­˜å‚¨ä»€ä¹ˆæ ·çš„å€¼ã€‚ç¬¬ 3 ç« æ˜¯ C++ ç±»å‹ç³»ç»Ÿçš„åŸºçŸ³ï¼Œç†è§£æœ¬ç« å†…å®¹å¯¹åç»­å­¦ä¹ è‡³å…³é‡è¦ã€‚

```text
C++ æ•°æ®ç±»å‹ä½“ç³»ï¼š
â”œâ”€â”€ æ•´å‹ï¼ˆInteger Typesï¼‰
â”‚   â”œâ”€â”€ short / int / long / long long
â”‚   â”œâ”€â”€ unsigned å˜ä½“
â”‚   â”œâ”€â”€ charï¼ˆå­—ç¬¦å³æ•´æ•°ï¼‰
â”‚   â””â”€â”€ bool
â”œâ”€â”€ æµ®ç‚¹å‹ï¼ˆFloating-Point Typesï¼‰
â”‚   â”œâ”€â”€ float
â”‚   â”œâ”€â”€ double
â”‚   â””â”€â”€ long double
â””â”€â”€ å…¶ä»–
    â”œâ”€â”€ const é™å®šç¬¦
    â””â”€â”€ ç±»å‹è½¬æ¢
```

---

## 3.1 ç®€å•å˜é‡

### å˜é‡çš„æœ¬è´¨

å˜é‡å°±æ˜¯ä¸€å—**å‘½åçš„å†…å­˜**ã€‚å½“ä½ å£°æ˜ä¸€ä¸ªå˜é‡æ—¶ï¼Œç¼–è¯‘å™¨ä¼šåˆ†é…ä¸€æ®µå†…å­˜ç©ºé—´æ¥å­˜å‚¨æ•°æ®ã€‚å˜é‡åå°±æ˜¯è¿™æ®µå†…å­˜çš„æ ‡ç­¾ã€‚

```cpp
int age = 25;   // åˆ†é…ä¸€å—"int å¤§å°"çš„å†…å­˜ï¼Œè´´ä¸Šæ ‡ç­¾ "age"ï¼Œå†™å…¥ 25
```

### ä½ä¸å­—èŠ‚

| æ¦‚å¿µ | è¯´æ˜ |
|------|------|
| **ä½ï¼ˆbitï¼‰** | è®¡ç®—æœºä¸­æœ€å°çš„å­˜å‚¨å•ä½ï¼Œå€¼ä¸º 0 æˆ– 1 |
| **å­—èŠ‚ï¼ˆbyteï¼‰** | C++ æ ‡å‡†ä¸­ï¼Œ`sizeof(char)` å§‹ç»ˆä¸º 1 å­—èŠ‚ã€‚å¤§å¤šæ•°ç³»ç»Ÿä¸Š 1 å­—èŠ‚ = 8 ä½ |
| **1 KB** | 1024 å­—èŠ‚ |

> ä¸ºä»€ä¹ˆè¦åŒºåˆ†ä¸åŒçš„æ•´å‹ï¼Ÿå› ä¸ºä¸åŒç±»å‹ä½¿ç”¨ä¸åŒçš„ä½æ•°æ¥å­˜å‚¨æ•°æ®ï¼Œä½æ•°è¶Šå¤šï¼Œèƒ½è¡¨ç¤ºçš„èŒƒå›´å°±è¶Šå¤§ï¼Œä½†ä¹Ÿå ç”¨æ›´å¤šå†…å­˜ã€‚

### å˜é‡å‘½åè§„åˆ™

å‘½åè§„åˆ™ï¼š

- åªèƒ½ä½¿ç”¨**å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿**
- **ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸èƒ½æ˜¯æ•°å­—**
- **åŒºåˆ†å¤§å°å†™**ï¼ˆ`Age` â‰  `age` â‰  `AGE`ï¼‰
- ä¸èƒ½ç”¨ C++ **å…³é”®å­—**ï¼ˆå¦‚ `int`ã€`return`ã€`class`ï¼‰
- ä»¥ä¸¤ä¸ªä¸‹åˆ’çº¿ `__` å¼€å¤´ï¼Œæˆ–ä¸€ä¸ªä¸‹åˆ’çº¿åŠ å¤§å†™å­—æ¯ `_A` å¼€å¤´çš„åç§°**ä¿ç•™ç»™ç¼–è¯‘å™¨å®ç°**ï¼Œä¸è¦ä½¿ç”¨

```cpp
// âœ… åˆæ³•
int playerScore;
double _value;
int item2count;

// âŒ éæ³•
int 2ndPlace;        // æ•°å­—å¼€å¤´
int my-var;          // åŒ…å«è¿å­—ç¬¦
int return;          // C++ å…³é”®å­—
int __internal;      // åŒä¸‹åˆ’çº¿å¼€å¤´ï¼ˆä¿ç•™ï¼‰
```

### å˜é‡å£°æ˜ä¸åˆå§‹åŒ–

C++ æä¾›å¤šç§åˆå§‹åŒ–æ–¹å¼ï¼š

```cpp
int a = 5;        // C é£æ ¼åˆå§‹åŒ–ï¼ˆ=å·èµ‹å€¼ï¼‰
int b(10);        // æ„é€ å‡½æ•°é£æ ¼åˆå§‹åŒ–
int c{15};        // C++11 åˆ—è¡¨åˆå§‹åŒ–ï¼ˆæ¨èï¼‰
int d = {20};     // C++11 åˆ—è¡¨åˆå§‹åŒ–ï¼ˆå¸¦=å·ï¼‰
int e{};          // C++11 é›¶åˆå§‹åŒ–ï¼Œe = 0
```

> **æ¨èä½¿ç”¨ `{}` åˆå§‹åŒ–**ï¼šå®ƒåœ¨å‘ç”Ÿ"çª„åŒ–è½¬æ¢"ï¼ˆå¦‚æŠŠ `double` èµ‹ç»™ `int`ï¼‰æ—¶ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ï¼Œèƒ½å¸®åŠ©æˆ‘ä»¬æ›´æ—©å‘ç°é—®é¢˜ã€‚

```cpp
int x = 3.14;     // âš ï¸ ç¼–è¯‘é€šè¿‡ï¼Œä½† x = 3ï¼Œå°æ•°éƒ¨åˆ†è¢«æˆªæ–­
int y{3.14};      // âŒ ç¼–è¯‘é”™è¯¯ï¼ä¸å…è®¸çª„åŒ–è½¬æ¢
```

---

## 3.2 æ•´å‹

C++ æä¾›äº†å¤šç§æ•´å‹ï¼ŒåŒºåˆ«åœ¨äºå ç”¨çš„å†…å­˜å’Œèƒ½è¡¨ç¤ºçš„æ•°å€¼èŒƒå›´ã€‚

### æ•´å‹å®½åº¦ä¿è¯

C++ æ ‡å‡†è§„å®šäº†å„æ•´å‹çš„**æœ€å°å®½åº¦**ï¼š

| ç±»å‹ | æœ€å°å®½åº¦ | å…¸å‹å®½åº¦ | å…¸å‹èŒƒå›´ |
|------|---------|---------|---------|
| `short` | 16 ä½ | 16 ä½ | âˆ’32,768 ~ 32,767 |
| `int` | 16 ä½ | 32 ä½ | âˆ’2,147,483,648 ~ 2,147,483,647 |
| `long` | 32 ä½ | 32 ä½ï¼ˆWindowsï¼‰/ 64 ä½ï¼ˆLinuxï¼‰ | è‡³å°‘ âˆ’2,147,483,648 ~ 2,147,483,647 |
| `long long` | 64 ä½ | 64 ä½ | âˆ’9,223,372,036,854,775,808 ~ 9,223,372,036,854,775,807 |

> æ ‡å‡†åªè§„å®šäº†**æœ€å°å®½åº¦**å’Œç›¸å¯¹å¤§å°å…³ç³»ï¼š`short` â‰¤ `int` â‰¤ `long` â‰¤ `long long`ã€‚å…·ä½“å®½åº¦å–å†³äºå¹³å°ã€‚

### sizeof è¿ç®—ç¬¦

`sizeof` å¯ä»¥åœ¨ç¼–è¯‘æ—¶è·å–ç±»å‹æˆ–å˜é‡å ç”¨çš„å­—èŠ‚æ•°ï¼š

```cpp
#include <iostream>
#include <climits>   // æ•´å‹é™åˆ¶å¸¸é‡
using namespace std;

int main() {
    cout << "===== æ•´å‹å¤§å°ï¼ˆå­—èŠ‚æ•°ï¼‰=====" << endl;
    cout << "short:     " << sizeof(short)     << endl;
    cout << "int:       " << sizeof(int)       << endl;
    cout << "long:      " << sizeof(long)      << endl;
    cout << "long long: " << sizeof(long long) << endl;

    cout << endl;
    cout << "===== æ•´å‹èŒƒå›´ =====" << endl;
    cout << "short èŒƒå›´:     " << SHRT_MIN << " ~ " << SHRT_MAX << endl;
    cout << "int èŒƒå›´:       " << INT_MIN  << " ~ " << INT_MAX  << endl;
    cout << "long èŒƒå›´:      " << LONG_MIN << " ~ " << LONG_MAX << endl;
    cout << "long long èŒƒå›´: " << LLONG_MIN << " ~ " << LLONG_MAX << endl;

    return 0;
}
```

**å…¸å‹è¾“å‡º**ï¼ˆ64 ä½ Windows/MSVCï¼‰ï¼š

```text
===== æ•´å‹å¤§å°ï¼ˆå­—èŠ‚æ•°ï¼‰=====
short:     2
int:       4
long:      4
long long: 8

===== æ•´å‹èŒƒå›´ =====
short èŒƒå›´:     -32768 ~ 32767
int èŒƒå›´:       -2147483648 ~ 2147483647
long èŒƒå›´:      -2147483648 ~ 2147483647
long long èŒƒå›´: -9223372036854775808 ~ 9223372036854775807
```

### climits ä¸­çš„å¸¸ç”¨å¸¸é‡

| å¸¸é‡ | å«ä¹‰ |
|------|------|
| `CHAR_BIT` | 1 å­—èŠ‚çš„ä½æ•°ï¼ˆé€šå¸¸ä¸º 8ï¼‰ |
| `SHRT_MIN` / `SHRT_MAX` | `short` çš„æœ€å°å€¼ / æœ€å¤§å€¼ |
| `INT_MIN` / `INT_MAX` | `int` çš„æœ€å°å€¼ / æœ€å¤§å€¼ |
| `LONG_MIN` / `LONG_MAX` | `long` çš„æœ€å°å€¼ / æœ€å¤§å€¼ |
| `LLONG_MIN` / `LLONG_MAX` | `long long` çš„æœ€å°å€¼ / æœ€å¤§å€¼ |
| `USHRT_MAX` | `unsigned short` çš„æœ€å¤§å€¼ |
| `UINT_MAX` | `unsigned int` çš„æœ€å¤§å€¼ |

---

## 3.3 æ— ç¬¦å·ç±»å‹

åœ¨ç±»å‹å‰åŠ  `unsigned` å…³é”®å­—ï¼Œè¡¨ç¤ºè¯¥å˜é‡åªèƒ½å­˜å‚¨**éè´Ÿå€¼**ï¼Œæ­£æ•°çš„è¡¨ç¤ºèŒƒå›´æ‰©å¤§ä¸€å€ã€‚

### æœ‰ç¬¦å· vs æ— ç¬¦å·

```cpp
#include <iostream>
#include <climits>
using namespace std;

int main() {
    // æœ‰ç¬¦å·ï¼šä¸€åŠèŒƒå›´ç»™è´Ÿæ•°ï¼Œä¸€åŠç»™æ­£æ•°
    short signed_val = SHRT_MAX;
    cout << "short æœ€å¤§å€¼: " << signed_val << endl;       // 32767

    // æ— ç¬¦å·ï¼šå…¨éƒ¨èŒƒå›´ç»™æ­£æ•°
    unsigned short unsigned_val = USHRT_MAX;
    cout << "unsigned short æœ€å¤§å€¼: " << unsigned_val << endl;  // 65535

    return 0;
}
```

**èŒƒå›´å¯¹æ¯”**ï¼ˆ16 ä½ shortï¼‰ï¼š

| ç±»å‹ | èŒƒå›´ |
|------|------|
| `short`ï¼ˆæœ‰ç¬¦å·ï¼‰ | âˆ’32,768 ~ 32,767 |
| `unsigned short` | 0 ~ 65,535 |

### æº¢å‡ºè¡Œä¸º

```cpp
#include <iostream>
using namespace std;

int main() {
    short s = 32767;       // short æœ€å¤§å€¼
    s = s + 1;             // æº¢å‡ºï¼
    cout << "short æº¢å‡º: " << s << endl;  // -32768ï¼ˆæœªå®šä¹‰è¡Œä¸ºï¼ï¼‰

    unsigned short us = 65535;  // unsigned short æœ€å¤§å€¼
    us = us + 1;                // å›ç»•åˆ° 0
    cout << "unsigned short æº¢å‡º: " << us << endl;  // 0ï¼ˆå®šä¹‰è‰¯å¥½çš„å›ç»•ï¼‰

    return 0;
}
```

> **é‡è¦åŒºåˆ«**ï¼šæœ‰ç¬¦å·æ•´æ•°æº¢å‡ºæ˜¯**æœªå®šä¹‰è¡Œä¸º**ï¼ˆUndefined Behaviorï¼‰ï¼Œç¼–è¯‘å™¨å¯ä»¥åšä»»ä½•äº‹ã€‚æ— ç¬¦å·æ•´æ•°æº¢å‡ºæ˜¯**å®šä¹‰è‰¯å¥½**çš„â€”â€”å®ƒä¼šå›ç»•ï¼ˆwrap aroundï¼‰åˆ° 0ã€‚

---

## 3.4 æ•´å‹å­—é¢å€¼

æ•´å‹å­—é¢å€¼ï¼ˆliteralï¼‰å°±æ˜¯ç›´æ¥å†™åœ¨ä»£ç ä¸­çš„æ•°å­—ã€‚C++ æ”¯æŒä¸‰ç§è¿›åˆ¶è¡¨ç¤ºï¼š

```cpp
#include <iostream>
using namespace std;

int main() {
    int dec = 42;     // åè¿›åˆ¶
    int oct = 042;    // å…«è¿›åˆ¶ï¼ˆä»¥ 0 å¼€å¤´ï¼‰â†’ åè¿›åˆ¶ 34
    int hex = 0x42;   // åå…­è¿›åˆ¶ï¼ˆä»¥ 0x å¼€å¤´ï¼‰â†’ åè¿›åˆ¶ 66

    cout << "dec = " << dec << endl;   // 42
    cout << "oct = " << oct << endl;   // 34
    cout << "hex = " << hex << endl;   // 66

    return 0;
}
```

### å­—é¢å€¼ç±»å‹åç¼€

| åç¼€ | ç±»å‹ | ç¤ºä¾‹ |
|------|------|------|
| æ— åç¼€ | `int` | `42` |
| `u` æˆ– `U` | `unsigned int` | `42U` |
| `l` æˆ– `L` | `long` | `42L` |
| `ll` æˆ– `LL` | `long long` | `42LL` |
| `ul` æˆ– `UL` | `unsigned long` | `42UL` |
| `ull` æˆ– `ULL` | `unsigned long long` | `42ULL` |

> **æç¤º**ï¼šæ¨èä½¿ç”¨å¤§å†™ `L` è€Œéå°å†™ `l`ï¼Œå› ä¸ºå°å†™ `l` å®¹æ˜“ä¸æ•°å­— `1` æ··æ·†ã€‚

---

## 3.5 char ç±»å‹

`char` ç±»å‹ç”¨äºå­˜å‚¨å­—ç¬¦ï¼Œä½†æœ¬è´¨ä¸Šå®ƒæ˜¯ä¸€ç§**å°å‹æ•´æ•°**ã€‚åœ¨å¤§å¤šæ•°ç³»ç»Ÿä¸­ï¼Œ`char` å ç”¨ 1 å­—èŠ‚ï¼ˆ8 ä½ï¼‰ã€‚

### å­—ç¬¦ä¸ ASCII ç 

```cpp
#include <iostream>
using namespace std;

int main() {
    char ch = 'A';    // å­˜å‚¨çš„å…¶å®æ˜¯ ASCII ç  65
    int code = ch;    // éšå¼è½¬æ¢ä¸ºæ•´æ•°

    cout << "å­—ç¬¦: " << ch << endl;       // A
    cout << "ASCII: " << code << endl;    // 65
    cout << "A+1 = " << char(ch + 1) << endl;  // B

    // ç”¨ ASCII ç åˆ›å»ºå­—ç¬¦
    char newline = 10;   // æ¢è¡Œç¬¦çš„ ASCII ç 
    cout << "Hello" << newline << "World" << endl;

    return 0;
}
```

### è½¬ä¹‰åºåˆ—

| è½¬ä¹‰åºåˆ— | å«ä¹‰ |
|---------|------|
| `\n` | æ¢è¡Œ |
| `\t` | æ°´å¹³åˆ¶è¡¨ç¬¦ï¼ˆTabï¼‰ |
| `\\` | åæ–œæ  |
| `\'` | å•å¼•å· |
| `\"` | åŒå¼•å· |
| `\0` | ç©ºå­—ç¬¦ï¼ˆnullï¼‰ |
| `\a` | å“é“ƒï¼ˆAlertï¼‰ |
| `\b` | é€€æ ¼ï¼ˆBackspaceï¼‰ |

### signed char ä¸ unsigned char

```cpp
// char çš„æœ‰ç¬¦å·æ€§å–å†³äºç¼–è¯‘å™¨å®ç°
// å¦‚æœéœ€è¦æ˜ç¡®ï¼Œè¯·æ˜¾å¼æŒ‡å®šï¼š
signed char   sc = -10;   // èŒƒå›´ï¼š-128 ~ 127
unsigned char uc = 200;   // èŒƒå›´ï¼š0 ~ 255
```

### å®½å­—ç¬¦ç±»å‹ï¼ˆC++11ï¼‰

| ç±»å‹ | å¤§å° | ç”¨é€” |
|------|------|------|
| `wchar_t` | å®ç°å®šä¹‰ï¼ˆé€šå¸¸ 2 æˆ– 4 å­—èŠ‚ï¼‰ | å®½å­—ç¬¦ |
| `char16_t` | è‡³å°‘ 16 ä½ | UTF-16 å­—ç¬¦ |
| `char32_t` | è‡³å°‘ 32 ä½ | UTF-32 å­—ç¬¦ |

```cpp
wchar_t  wc  = L'ä¸­';    // å®½å­—ç¬¦å­—é¢å€¼å‰ç¼€ L
char16_t c16 = u'ä¸­';    // UTF-16 å­—é¢å€¼å‰ç¼€ u
char32_t c32 = U'ä¸­';    // UTF-32 å­—é¢å€¼å‰ç¼€ U
```

---

## 3.6 bool ç±»å‹

`bool` ç±»å‹ç”¨äºè¡¨ç¤ºé€»è¾‘å€¼ï¼Œåªæœ‰ä¸¤ä¸ªå€¼ï¼š`true`ï¼ˆçœŸï¼‰å’Œ `false`ï¼ˆå‡ï¼‰ã€‚

```cpp
#include <iostream>
using namespace std;

int main() {
    bool isReady = true;
    bool isDone  = false;

    cout << "isReady = " << isReady << endl;   // 1
    cout << "isDone  = " << isDone  << endl;   // 0

    // æ•´æ•° â†’ boolï¼šéé›¶ä¸º trueï¼Œé›¶ä¸º false
    bool fromInt = 42;     // true
    bool fromZero = 0;     // false

    // bool â†’ æ•´æ•°ï¼štrue ä¸º 1ï¼Œfalse ä¸º 0
    int num = true + true; // 1 + 1 = 2
    cout << "true + true = " << num << endl;   // 2

    return 0;
}
```

---

## 3.7 const é™å®šç¬¦

`const` å…³é”®å­—ç”¨äºåˆ›å»º**ç¬¦å·å¸¸é‡**â€”â€”ä¸€æ—¦åˆå§‹åŒ–ï¼Œå°±ä¸èƒ½å†ä¿®æ”¹ã€‚

### const vs #define

```cpp
#define PI_MACRO 3.14159      // C é£æ ¼ï¼šé¢„å¤„ç†å™¨å®æ›¿æ¢

const double PI = 3.14159;    // C++ é£æ ¼ï¼šç±»å‹å®‰å…¨çš„å¸¸é‡
```

| å¯¹æ¯”é¡¹ | `#define` | `const` |
|--------|-----------|---------|
| ç±»å‹æ£€æŸ¥ | âŒ æ— ï¼Œçº¯æ–‡æœ¬æ›¿æ¢ | âœ… æœ‰å®Œæ•´çš„ç±»å‹æ£€æŸ¥ |
| ä½œç”¨åŸŸ | å…¨å±€ï¼ˆä»å®šä¹‰åˆ°æ–‡ä»¶æœ«å°¾ï¼‰ | éµå¾ª C++ ä½œç”¨åŸŸè§„åˆ™ |
| è°ƒè¯• | âŒ è°ƒè¯•å™¨çœ‹ä¸åˆ°å®åç§° | âœ… è°ƒè¯•å™¨å¯ä»¥æ£€æŸ¥å¸¸é‡ |
| å†…å­˜ | ä¸åˆ†é…å†…å­˜ | å¯èƒ½åˆ†é…å†…å­˜ï¼ˆç¼–è¯‘å™¨ä¼˜åŒ–åé€šå¸¸ä¸ä¼šï¼‰ |

```cpp
const int MAX_SIZE = 100;
// MAX_SIZE = 200;  // âŒ ç¼–è¯‘é”™è¯¯ï¼ä¸èƒ½ä¿®æ”¹ const å¸¸é‡

const int UNINITIALIZED;  // âŒ ç¼–è¯‘é”™è¯¯ï¼const å˜é‡å¿…é¡»åœ¨å£°æ˜æ—¶åˆå§‹åŒ–
```

> **æœ€ä½³å®è·µ**ï¼šåœ¨ C++ ä¸­ï¼Œå§‹ç»ˆä¼˜å…ˆä½¿ç”¨ `const` è€Œé `#define` æ¥å®šä¹‰å¸¸é‡ã€‚

---

## 3.8 æµ®ç‚¹æ•°

æµ®ç‚¹æ•°ç”¨äºè¡¨ç¤ºå¸¦æœ‰å°æ•°éƒ¨åˆ†çš„æ•°å­—ã€‚

### æµ®ç‚¹ç±»å‹æ¦‚è§ˆ

| ç±»å‹ | æœ€å°ç²¾åº¦ | å…¸å‹å¤§å° | æœ‰æ•ˆæ•°å­—ä½æ•° |
|------|---------|---------|------------|
| `float` | 6 ä½æœ‰æ•ˆæ•°å­— | 4 å­—èŠ‚ï¼ˆ32 ä½ï¼‰ | 6~7 ä½ |
| `double` | 15 ä½æœ‰æ•ˆæ•°å­— | 8 å­—èŠ‚ï¼ˆ64 ä½ï¼‰ | 15~16 ä½ |
| `long double` | 18 ä½æœ‰æ•ˆæ•°å­— | 8/12/16 å­—èŠ‚ | 18~19 ä½ |

### æµ®ç‚¹å­—é¢å€¼

```cpp
double a = 3.14;       // æ ‡å‡†å°æ•°å½¢å¼
double b = 3.14E2;     // E è¡¨ç¤ºæ³•ï¼ˆç§‘å­¦è®¡æ•°æ³•ï¼‰â†’ 314.0
double c = 1.5e-3;     // â†’ 0.0015
double d = 8.0;        // å¸¦å°æ•°ç‚¹ â†’ double

float  f = 3.14f;      // åç¼€ f/F â†’ float
long double ld = 3.14L; // åç¼€ l/L â†’ long double
// é»˜è®¤æ— åç¼€ â†’ double
```

### æµ®ç‚¹ç²¾åº¦é™·é˜±

```cpp
#include <iostream>
using namespace std;

int main() {
    // ç²¾åº¦æ¼”ç¤º
    float f_val  = 10.0f / 3.0f;
    double d_val = 10.0 / 3.0;

    cout.precision(20);  // æ˜¾ç¤ºæ›´å¤šå°æ•°ä½
    cout << "float:  " << f_val  << endl;  // 3.3333332538604736328
    cout << "double: " << d_val  << endl;  // 3.3333333333333335064

    // âš ï¸ ç»å…¸é™·é˜±ï¼šæµ®ç‚¹æ•°æ¯”è¾ƒ
    double x = 0.1 + 0.2;
    cout << "0.1 + 0.2 = " << x << endl;
    cout << "0.1 + 0.2 == 0.3 ? " << (x == 0.3) << endl;  // 0ï¼ˆfalseï¼ï¼‰

    return 0;
}
```

> **æ°¸è¿œä¸è¦ç”¨ `==` ç›´æ¥æ¯”è¾ƒä¸¤ä¸ªæµ®ç‚¹æ•°ï¼** ç”±äºäºŒè¿›åˆ¶æ— æ³•ç²¾ç¡®è¡¨ç¤ºæŸäº›åè¿›åˆ¶å°æ•°ï¼ˆå¦‚ 0.1ï¼‰ï¼Œæµ®ç‚¹è¿ç®—ä¼šäº§ç”Ÿå¾®å°çš„èˆå…¥è¯¯å·®ã€‚æ­£ç¡®åšæ³•æ˜¯åˆ¤æ–­å·®å€¼æ˜¯å¦å°äºä¸€ä¸ªæå°çš„é˜ˆå€¼ï¼ˆepsilonï¼‰ã€‚

```cpp
#include <cmath>

bool isEqual(double a, double b, double epsilon = 1e-9) {
    return fabs(a - b) < epsilon;
}
```

### cfloat ä¸­çš„å¸¸ç”¨å¸¸é‡

| å¸¸é‡ | å«ä¹‰ |
|------|------|
| `FLT_DIG` | `float` çš„æœ‰æ•ˆæ•°å­—ä½æ•°ï¼ˆé€šå¸¸ 6ï¼‰ |
| `DBL_DIG` | `double` çš„æœ‰æ•ˆæ•°å­—ä½æ•°ï¼ˆé€šå¸¸ 15ï¼‰ |
| `FLT_MAX` / `FLT_MIN` | `float` çš„æœ€å¤§å€¼ / æœ€å°æ­£è§„åŒ–å€¼ |
| `DBL_MAX` / `DBL_MIN` | `double` çš„æœ€å¤§å€¼ / æœ€å°æ­£è§„åŒ–å€¼ |

---

## 3.9 C++ ç®—æœ¯è¿ç®—ç¬¦

### äº”ç§åŸºæœ¬è¿ç®—ç¬¦

| è¿ç®—ç¬¦ | åç§° | ç¤ºä¾‹ | ç»“æœ |
|--------|------|------|------|
| `+` | åŠ æ³• | `5 + 3` | `8` |
| `-` | å‡æ³• | `5 - 3` | `2` |
| `*` | ä¹˜æ³• | `5 * 3` | `15` |
| `/` | é™¤æ³• | `5 / 3` | `1`ï¼ˆæ•´æ•°é™¤æ³•ï¼‰ |
| `%` | å–æ¨¡ï¼ˆæ±‚ä½™ï¼‰ | `5 % 3` | `2` |

### æ•´æ•°é™¤æ³• vs æµ®ç‚¹é™¤æ³•

```cpp
#include <iostream>
using namespace std;

int main() {
    // æ•´æ•° / æ•´æ•° = æ•´æ•°ï¼ˆæˆªæ–­å°æ•°éƒ¨åˆ†ï¼‰
    cout << "9 / 4 = " << 9 / 4 << endl;       // 2

    // åªè¦æœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯æµ®ç‚¹æ•° â†’ æµ®ç‚¹é™¤æ³•
    cout << "9.0 / 4 = " << 9.0 / 4 << endl;   // 2.25
    cout << "9 / 4.0 = " << 9 / 4.0 << endl;   // 2.25

    // å–æ¨¡è¿ç®—åªèƒ½ç”¨äºæ•´æ•°
    cout << "9 % 4 = " << 9 % 4 << endl;        // 1
    // cout << 9.0 % 4;  // âŒ ç¼–è¯‘é”™è¯¯ï¼

    return 0;
}
```

### è¿ç®—ç¬¦ä¼˜å…ˆçº§

```text
ä¼˜å…ˆçº§ï¼ˆä»é«˜åˆ°ä½ï¼‰ï¼š
1. ()          æ‹¬å·
2. * / %       ä¹˜æ³•ã€é™¤æ³•ã€å–æ¨¡
3. + -         åŠ æ³•ã€å‡æ³•
```

```cpp
int result = 2 + 3 * 4;     // å…ˆç®— 3*4=12ï¼Œå†ç®— 2+12=14
int result2 = (2 + 3) * 4;  // å…ˆç®— 2+3=5ï¼Œå†ç®— 5*4=20
```

---

## 3.10 ç±»å‹è½¬æ¢

C++ åœ¨ä¸åŒç±»å‹ä¹‹é—´çš„è¿ç®—æ—¶ä¼šè¿›è¡Œç±»å‹è½¬æ¢ã€‚ç†è§£è¿™äº›è½¬æ¢è§„åˆ™å¯¹äºé¿å…æ•°æ®ä¸¢å¤±è‡³å…³é‡è¦ã€‚

### 1. åˆå§‹åŒ–å’Œèµ‹å€¼æ—¶çš„éšå¼è½¬æ¢

```cpp
int i = 3.99;       // double â†’ intï¼Œæˆªæ–­ä¸º 3
double d = 42;      // int â†’ doubleï¼Œå˜ä¸º 42.0
short s = 100000;   // âš ï¸ å¯èƒ½æº¢å‡ºï¼int â†’ short
```

### 2. è¡¨è¾¾å¼ä¸­çš„è‡ªåŠ¨ç±»å‹æå‡

å½“ä¸åŒç±»å‹å‚ä¸åŒä¸€ä¸ªè¡¨è¾¾å¼æ—¶ï¼Œè¾ƒ"å°"çš„ç±»å‹ä¼šè‡ªåŠ¨æå‡ä¸ºè¾ƒ"å¤§"çš„ç±»å‹ï¼š

```text
æå‡è§„åˆ™ï¼ˆä»ä½åˆ°é«˜ï¼‰ï¼š
bool â†’ char â†’ short â†’ int â†’ long â†’ long long â†’ float â†’ double â†’ long double
```

```cpp
int    i = 10;
double d = 3.14;
auto result = i + d;  // i æå‡ä¸º double â†’ result ç±»å‹ä¸º double
```

### 3. å¼ºåˆ¶ç±»å‹è½¬æ¢

#### C é£æ ¼è½¬æ¢

```cpp
int total = 17;
int count = 5;
double average = (double)total / count;  // C é£æ ¼
```

#### C++ é£æ ¼è½¬æ¢ï¼ˆæ¨èï¼‰

```cpp
double average = static_cast<double>(total) / count;  // C++ é£æ ¼
```

> **æ¨èä½¿ç”¨ `static_cast<>`**ï¼šå®ƒæ›´æ˜ç¡®åœ°è¡¨è¾¾äº†ç¨‹åºå‘˜çš„æ„å›¾ï¼Œä¹Ÿæ›´å®¹æ˜“åœ¨ä»£ç ä¸­æœç´¢ã€‚

```cpp
#include <iostream>
using namespace std;

int main() {
    int apples = 9;
    int people = 4;

    // æ•´æ•°é™¤æ³•
    cout << "æ•´æ•°é™¤æ³•: " << apples / people << endl;  // 2

    // è½¬æ¢åçš„æµ®ç‚¹é™¤æ³•
    cout << "æµ®ç‚¹é™¤æ³•: " << static_cast<double>(apples) / people << endl;  // 2.25

    return 0;
}
```

### 4. C++11 çš„ {} åˆå§‹åŒ–ä¸çª„åŒ–è½¬æ¢

`{}` åˆå§‹åŒ–ä¼šåœ¨ç¼–è¯‘æ—¶æ£€æŸ¥æ˜¯å¦å­˜åœ¨"çª„åŒ–è½¬æ¢"ï¼ˆå¯èƒ½ä¸¢å¤±æ•°æ®çš„è½¬æ¢ï¼‰ï¼š

```cpp
int x1 = 3.14;     // âœ… ç¼–è¯‘é€šè¿‡ï¼ˆä½†æˆªæ–­ä¸º 3ï¼‰
int x2{3.14};      // âŒ ç¼–è¯‘é”™è¯¯ï¼double â†’ int æ˜¯çª„åŒ–è½¬æ¢

char c1 = 1000;    // âš ï¸ å¯èƒ½æº¢å‡ºï¼Œç¼–è¯‘å™¨å¯èƒ½è­¦å‘Š
char c2{1000};     // âŒ ç¼–è¯‘é”™è¯¯ï¼1000 è¶…å‡º char èŒƒå›´

long long big = 2147483647;
int x3{big};       // âŒ ç¼–è¯‘é”™è¯¯ï¼long long â†’ int å¯èƒ½çª„åŒ–
```

---

## 3.11 æ€»ç»“

### æœ¬ç« æ ¸å¿ƒæ¦‚å¿µ

```text
ç¬¬ 3 ç« çŸ¥è¯†å›¾è°±ï¼š

æ•°æ®ç±»å‹
â”œâ”€â”€ æ•´å‹
â”‚   â”œâ”€â”€ short (â‰¥16ä½) â†’ int (â‰¥16ä½) â†’ long (â‰¥32ä½) â†’ long long (â‰¥64ä½)
â”‚   â”œâ”€â”€ unsigned å˜ä½“ï¼šèŒƒå›´ç¿»å€ï¼ˆä»…æ­£æ•°ï¼‰
â”‚   â”œâ”€â”€ charï¼šå­—ç¬¦ = å°å‹æ•´æ•°ï¼ˆASCIIï¼‰
â”‚   â””â”€â”€ boolï¼štrue(1) / false(0)
â”‚
â”œâ”€â”€ æµ®ç‚¹å‹
â”‚   â”œâ”€â”€ float (6-7ä½ç²¾åº¦)
â”‚   â”œâ”€â”€ double (15-16ä½ç²¾åº¦ï¼Œé»˜è®¤)
â”‚   â””â”€â”€ long double (18-19ä½ç²¾åº¦)
â”‚
â”œâ”€â”€ const å¸¸é‡
â”‚   â””â”€â”€ ä¼˜äº #defineï¼Œç±»å‹å®‰å…¨
â”‚
â”œâ”€â”€ ç®—æœ¯è¿ç®—
â”‚   â”œâ”€â”€ + - * / %
â”‚   â””â”€â”€ æ•´æ•°é™¤æ³•æˆªæ–­ï¼Œæµ®ç‚¹é™¤æ³•ä¿ç•™å°æ•°
â”‚
â””â”€â”€ ç±»å‹è½¬æ¢
    â”œâ”€â”€ éšå¼ï¼šè‡ªåŠ¨æå‡ï¼ˆå° â†’ å¤§ï¼‰
    â”œâ”€â”€ æ˜¾å¼ï¼šstatic_cast<>ï¼ˆæ¨èï¼‰
    â””â”€â”€ {} åˆå§‹åŒ–ï¼šç¦æ­¢çª„åŒ–è½¬æ¢
```

### æ•°æ®ç±»å‹å¿«é€Ÿå‚è€ƒ

| ç±»å‹ | å­—èŠ‚ | èŒƒå›´ | ç”¨é€” |
|------|------|------|------|
| `bool` | 1 | true / false | é€»è¾‘åˆ¤æ–­ |
| `char` | 1 | âˆ’128 ~ 127 æˆ– 0 ~ 255 | å•ä¸ªå­—ç¬¦ |
| `short` | 2 | âˆ’32,768 ~ 32,767 | èŠ‚çœå†…å­˜çš„å°æ•´æ•° |
| `int` | 4 | Â±21 äº¿ | **é»˜è®¤æ•´æ•°ç±»å‹** |
| `long` | 4/8 | è‡³å°‘ Â±21 äº¿ | éœ€æ›´å¤§èŒƒå›´æ—¶ |
| `long long` | 8 | Â±922 äº¬ | è¶…å¤§æ•´æ•° |
| `float` | 4 | Â±3.4Ã—10Â³â¸ (6ä½ç²¾åº¦) | èŠ‚çœå†…å­˜çš„å°æ•° |
| `double` | 8 | Â±1.8Ã—10Â³â°â¸ (15ä½ç²¾åº¦) | **é»˜è®¤æµ®ç‚¹ç±»å‹** |

### ä¸‹ä¸€ç« é¢„å‘Š

ç¬¬ 4 ç« å°†ä»‹ç» **å¤åˆç±»å‹**â€”â€”æ•°ç»„ã€å­—ç¬¦ä¸²ã€ç»“æ„ä½“å’ŒæŒ‡é’ˆï¼Œè¿™äº›æ˜¯æ„å»ºå¤æ‚æ•°æ®ç»“æ„çš„åŸºç¡€ã€‚

```text
ç¬¬1ç« ï¼šé¢„å¤‡çŸ¥è¯† âœ…
    â†“
ç¬¬2ç« ï¼šå¼€å§‹å­¦ä¹  C++ âœ…
    â†“
ç¬¬3ç« ï¼šå¤„ç†æ•°æ®ï¼ˆæœ¬ç« ï¼‰âœ…
    â†“
ç¬¬4ç« ï¼šå¤åˆç±»å‹
    â†“
...ç»§ç»­å­¦ä¹ ...
```

---

> ğŸ’¡ **å­¦ä¹ å»ºè®®**ï¼šæœ¬ç« å†…å®¹ä»¥ç†è§£å’Œè®°å¿†ä¸ºä¸»ã€‚å»ºè®®åœ¨æœ¬åœ°ç¼–å†™ä¸€ä¸ªç»¼åˆç¨‹åºï¼Œæµ‹è¯•å„ç§æ•°æ®ç±»å‹çš„ `sizeof`ã€èŒƒå›´ã€æº¢å‡ºè¡Œä¸ºå’Œç±»å‹è½¬æ¢ï¼ŒåŠ æ·±å°è±¡ã€‚
